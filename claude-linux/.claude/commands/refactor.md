---
description: コードをリファクタリング
argument-hint: [file path]
---

以下のコードをリファクタリングしてください: $ARGUMENTS

リファクタリング方針：
1. **可読性向上**: 命名改善、関数分割、構造整理
2. **重複排除**: DRY原則の適用
3. **シンプル化**: 不要な複雑さの除去

注意事項：
- 動作を変えない（振る舞いの保持）
- 一度に大きく変えすぎない
- 変更理由を説明

リファクタリング前後の比較と、変更理由を説明してください。
